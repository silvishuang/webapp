var app=angular.module("app",["ui.router"]);angular.module("app").config(["$stateProvider","$urlRouterProvider",function(t,e){t.state("home",{url:"/home",views:{home:{templateUrl:"../view/home_tpl.html",controller:"HomeController"},author:{template:"<h1>author</h1>"},content:{template:"<h1>content</h1>"},my:{template:"<h1>my</h1>"}}}).state("home.list",{url:"/list",templateUrl:"view/home_list_tpl.html"}).state("home.detail",{url:"/detail",template:'<div home-detail class="home_detail">test</div>'}),e.otherwise("/home/list")}]),angular.module("app").config(["$sceDelegateProvider",function(t){t.resourceUrlWhitelist(["self","http://127.0.0.1/angular/**"])}]),angular.module("app").controller("AppController",["$scope","$location","$window",function(t,e,l){t.title="今日一刻",t.id=0,t.titleList=["今日一刻","作者","栏目","我"],t.navTitle=t.titleList[t.id],t.isDetail=!1,t.location=e,t.$watch("location.url()",function(e,l){var o=e.toString().indexOf("detail");t.isDetail=-1!=o}),t.back=function(){l.history.back()}}]),angular.module("app").controller("HomeController",["$scope","myHttp",function(t,e){e.jsonp("http://127.0.0.1/angular/home.php",null,function(e){t.homeData=e},function(t){console.log(t)}),t.detail=function(e){t.detailData=t.homeData.posts[e]}}]),angular.module("app").controller("TabbarController",["$scope",function(t){t.change=function(e){t.id=e,t.navTitle=t.titleList[t.id]}}]),angular.module("app").directive("homeDetail",function(){return{restrict:"EA",template:"<div></div>",link:function(t,e,l){e.html(t.detailData.content)}}}),angular.module("app").directive("navs",function(){return{restrict:"EA",templateUrl:"../view/nav_tpl.html"}}),angular.module("app").directive("tabbar",function(){return{restrict:"EA",templateUrl:"../view/tabbar_tpl.html",controller:"TabbarController"}}),angular.module("app").service("myHttp",["$scope","$http",function(t,e){this.jsonp=function(t,l,o,a){e({url:t,method:"jsonp",params:l}).then(function(t){o(t.data)}).catch(function(t){a(t)})}}]);